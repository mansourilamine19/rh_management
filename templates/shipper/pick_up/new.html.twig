{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %} 
{% block body %}

    {{ include('shipper/pick_up/_form.html.twig') }}

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        $("#city_name").empty();
        $("#pick_up_locality").empty();
        $("#city_region").change(function () {
            var id = $("#city_region").val();
            $.ajax({
                type: 'GET',
                url: "{{ path('app_city_list') }}",
                data: {id: id},
                dataType: 'html',
                success: function (data) {
                    //Handle your JSON data to update the DOM
                    $("#city_name").empty();
                    $("#pick_up_locality").empty();
                    $("#city_name").append(data);
                }
            });

        });

        $("#city_name").change(function () {
            var id = $("#city_name").val();
            $.ajax({
                type: 'GET',
                url: "{{ path('app_locality_list') }}",
                data: {id: id},
                dataType: 'html',
                success: function (data) {
                    //Handle your JSON data to update the DOM
                    $("#pick_up_locality").empty();
                    $("#pick_up_locality").append(data);
                }
            });

        });
    </script>
{% endblock %}